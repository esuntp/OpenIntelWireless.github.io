(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{383:function(t,e,s){"use strict";s.r(e);var a=s(42),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"troubleshooting"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[t._v("#")]),t._v(" Troubleshooting")]),t._v(" "),s("p",[t._v("Troubleshooting a Kernel Extension might not be straight forward, here are some tactics:")]),t._v(" "),s("h2",{attrs:{id:"kernel-extension-loading-status"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kernel-extension-loading-status"}},[t._v("#")]),t._v(" Kernel Extension Loading Status")]),t._v(" "),s("p",[t._v("Run the following command in terminal:")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("kextstat "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -i "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"KEXT\'S_NAME"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("For example:")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("$ kextstat "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -i "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"itlwm"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("70")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 0xffffff7f84126000 0xf86000   0xf86000   com.zxystd.itlwm "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 10EA7641-BDCB-3820-9AF7-4C773FD9953E "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("33")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("ul",[s("li",[t._v("If a new line with the kext's name appears, it means the kext has successfully loaded.")]),t._v(" "),s("li",[t._v("If you get nothing, please recheck your bootloader's configuration.")])]),t._v(" "),s("h2",{attrs:{id:"resetting-system-preferences-network"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#resetting-system-preferences-network"}},[t._v("#")]),t._v(" Resetting System Preferences - Network")]),t._v(" "),s("p",[t._v("If you've tried other network-related Kernel Extensions before, some system configurations may be corrupted.")]),t._v(" "),s("p",[s("strong",[t._v("WARNING:")]),t._v(" The following procedures will completely reset your network preferences, including proxies, DNS, etc. The deleted files will be automatically created. "),s("em",[s("strong",[t._v("But make sure you have made a proper backup.")])])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Open System Preferences â†’ Network, delete all ports, click on apply at the bottom right corner")])]),t._v(" "),s("li",[s("p",[t._v("Open Terminal, run:")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),t._v(" /Library/Preferences/SystemConfiguration\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("Then Delete")]),t._v(" "),s("ul",[s("li",[s("strong",[s("code",[t._v("com.apple.airport.preferences.plist")])])]),t._v(" "),s("li",[s("strong",[s("code",[t._v("preferences.plist")])])]),t._v(" "),s("li",[s("strong",[s("code",[t._v("NetworkInterfaces.plist")])])]),t._v(" "),s("li",[s("strong",[s("code",[t._v("com.apple.network.identification.plist")])])]),t._v(" "),s("li",[s("strong",[s("code",[t._v("com.apple.wifi.message-tracer.plist")])])]),t._v(" "),s("li",[t._v("And all files containing "),s("code",[t._v("enX")]),t._v(", ("),s("code",[t._v("X")]),t._v(" as an integer)")])]),t._v(" "),s("blockquote",[s("p",[t._v("If you've changed your SMBIOS before, you must also delete files with names that contain your current and previous models.")])])]),t._v(" "),s("li",[s("p",[t._v("Reboot")])])]),t._v(" "),s("h2",{attrs:{id:"runtime-logs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#runtime-logs"}},[t._v("#")]),t._v(" Runtime Logs")]),t._v(" "),s("h3",{attrs:{id:"airportitlwm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#airportitlwm"}},[t._v("#")]),t._v(" AirportItlwm")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -sL https://git.io/AirportItlDebug"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("If nothing appears in your terminal, try the following command:")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -sL https://cdn.jsdelivr.net/gh/OpenIntelWireless/OpenIntelWireless.github.io/itlwm/AirItlDebug.sh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"itlwm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#itlwm"}},[t._v("#")]),t._v(" itlwm")]),t._v(" "),s("p",[s("RouterLink",{attrs:{to:"/HeliPort/Troubleshooting.html"}},[t._v("Use HeliPort to create a diagnostic report")])],1),t._v(" "),s("h2",{attrs:{id:"getting-kext-logs-for-loading-failures"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getting-kext-logs-for-loading-failures"}},[t._v("#")]),t._v(" Getting Kext Logs For Loading Failures")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("log")]),t._v(" command in macOS is ridiculously unreliable for identifying Kext loading issues when Kexts are injected by bootloaders. Fortunately, we can use "),s("code",[t._v("msgbuf")]),t._v(" or load the Kext manually after booting into the system to solve this issue.")]),t._v(" "),s("h3",{attrs:{id:"using-dmesg"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-dmesg"}},[t._v("#")]),t._v(" Using "),s("code",[t._v("dmesg")])]),t._v(" "),s("blockquote",[s("p",[t._v("Credit "),s("a",{attrs:{href:"https://github.com/lvs1974",target:"_blank",rel:"noopener noreferrer"}},[t._v("lvs1974"),s("OutboundLink")],1)])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Add "),s("code",[t._v("msgbuf=1048576")]),t._v(" into "),s("code",[t._v("boot-args")]),t._v(" using either nvram or your bootloader's config")])]),t._v(" "),s("li",[s("p",[t._v("Run the following command in terminal:")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dmesg")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -i "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"itlwm"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" ~/Desktop/Log_"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'+%Y-%m-%d_%H-%M-%S'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v(".log\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("A log file will then be created on your Desktop.")])])]),t._v(" "),s("h3",{attrs:{id:"loading-the-kext-manually-only-works-for-itlwm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loading-the-kext-manually-only-works-for-itlwm"}},[t._v("#")]),t._v(" Loading the kext manually (only works for "),s("code",[t._v("itlwm")]),t._v(")")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Download the latest version of "),s("strong",[t._v("itlwm")]),t._v(", unzip")])]),t._v(" "),s("li",[s("p",[t._v("Remove itlwm from your EFI")])]),t._v(" "),s("li",[s("p",[t._v("Disable System Integrity Protection")])]),t._v(" "),s("li",[s("p",[t._v("Restart your computer")])]),t._v(" "),s("li",[s("p",[t._v("Run the following commands in Terminal:")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" -R itlwm.kext /tmp\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("chown")]),t._v(" -R root:wheel /tmp/*.kext\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" kextutil -v /tmp/*.kext\nlog show --last boot "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -i "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"itlwm"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" ~/Desktop/Log_"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'+%Y-%m-%d_%H-%M-%S'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v(".log\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("A log file will then be created on your Desktop.")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);